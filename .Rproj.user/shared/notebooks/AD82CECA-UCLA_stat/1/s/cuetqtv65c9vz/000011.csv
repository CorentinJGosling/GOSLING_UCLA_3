"0","db = readxl::read_excel(""ESEF_2023_donnees_corentin.xlsx"") %>%"
"0","  filter(Q3 != ""Moins de 18 ans"")"
"0",""
"0","db_demo = db[, c(1:3, 5:9)]"
"0","names(db_demo) = c(""Age"", ""Gender"", ""Marital_status"","
"0","                   ""Financ_diff"", ""Year_stud"","
"0","                   ""Internship_h_wk"", ""Work_h_wk"","
"0","                   ""Student_status"")"
"0","db_demo[db_demo==""Ne souhaite pas répondre""] <- NA"
"0","db_demo$Age_cat = fct_recode(db_demo$Age, "
"0","                         ""18-19"" = ""18-19"", "
"0","                         ""20-21"" = ""20-21"", "
"0","                         ""22-23"" = ""22-23"","
"0","                         ""24-25"" = ""24-25"","
"0","                         "">25"" = ""Plus de 25 ans"")"
"0",""
"0","db_demo$Age_dim = fct_recode(db_demo$Age, "
"0","                         ""1"" = ""18-19"", "
"0","                         ""2"" = ""20-21"", "
"0","                         ""3"" = ""22-23"","
"0","                         ""4"" = ""24-25"","
"0","                         ""5"" = ""Plus de 25 ans"")"
"0","db_demo$Age_dim = as.numeric(db_demo$Age_dim)"
"0",""
"0","db_demo$Gender = fct_recode(db_demo$Gender, "
"0","                         ""Women"" = ""Femme"", "
"0","                         ""Man"" = ""Homme"", "
"0","                         ""Other"" = ""Autre"")"
"0","db_demo$Marital_status = fct_recode(db_demo$Marital_status, "
"0","                         ""Couple"" = ""En couple"", "
"0","                         ""Single"" = ""Célibataire"")"
"0",""
"0","db_demo$Financ_diff_cat = db_demo$Financ_diff"
"0","db_demo$Financ_diff_cat = fct_recode(db_demo$Financ_diff_cat, "
"0","                         ""No difficulties"" = ""Pas du tout importantes"", "
"0","                         ""Little importance"" = ""Peu importantes"","
"0","                         ""Moderately important"" = ""Plutôt importantes"","
"0","                         ""Very important"" = ""Très importantes"")"
"0",""
"0","db_demo$Financ_diff[db_demo$Financ_diff==""Financ_diff""] <- ""1"""
"0","db_demo$Financ_diff[db_demo$Financ_diff==""Peu importantes""] <- ""2"""
"0","db_demo$Financ_diff[db_demo$Financ_diff==""Plutôt importantes""] <- ""3"""
"0","db_demo$Financ_diff[db_demo$Financ_diff==""Très importantes""] <- ""4"""
"0","db_demo$Financ_diff = as.numeric(db_demo$Financ_diff)"
"0",""
"0","db_demo$Year_stud_cat = db_demo$Year_stud"
"0","db_demo$Year_stud_cat = fct_recode(db_demo$Year_stud_cat, "
"0","                         ""2nd year"" = ""2ème année"", "
"0","                         ""3rd year"" = ""3ème année"","
"0","                         ""4th year"" = ""4ème année"","
"0","                         ""5th year"" = ""5ème année"")"
"0",""
"0","db_demo$Year_stud = as.numeric(substr(db_demo$Year_stud, 1, 1))"
"0","# UCLA 3"
"0","db_uc3 = db[, c(""UCLA1"",	""UCLA2"",	""UCLA3"")]"
"0","db_uc3[db_uc3 == ""Souvent""] <- ""3"""
"0","db_uc3[db_uc3 == ""Parfois""] <- ""2"""
"0","db_uc3[db_uc3 == ""Presque jamais""] <- ""1"""
"0","db_uc3 = data.frame(apply(db_uc3, 2, as.numeric))"
"0","db_uc3$UCLA3_TOT = as.numeric(apply(db_uc3, 1, sum))"
"0",""
"0","# UCLA 20"
"0","db_uc20 = db %>% select(starts_with(""UCLA20""))"
"0","db_uc20[db_uc20 == ""Souvent""] <- ""4"""
"0","db_uc20[db_uc20 == ""Quelques fois""] <- ""3"""
"0","db_uc20[db_uc20 == ""Rarement""] <- ""2"""
"0","db_uc20[db_uc20 == ""Jamais""] <- ""1"""
"0","db_uc20 = data.frame(apply(db_uc20, 2, as.numeric))"
"0","db_uc20$UCLA20_TOT = as.numeric(apply(db_uc20, 1, sum))"
"0",""
"0","# PHQ9"
"0","db_phq = db %>% select(starts_with(""PHQ9""))"
"0","db_phq[db_phq == ""Presque tous les jours""] <- ""4"""
"0","db_phq[db_phq == ""Plus de la moitié du temps""] <- ""3"""
"0","db_phq[db_phq == ""Plusieurs jours""] <- ""2"""
"0","db_phq[db_phq == ""Jamais""] <- ""1"""
"0","db_phq = data.frame(apply(db_phq, 2, as.numeric))"
"0","db_phq$PHQ_TOT = as.numeric(apply(db_phq[,1:9], 1, sum))"
"0",""
"0","# GAD7"
"0","db_gad = db %>% select(starts_with(""GAD7""))"
"0","db_gad[db_gad == ""Presque tous les jours""] <- ""4"""
"0","db_gad[db_gad == ""Plus de la moitié du temps""] <- ""3"""
"0","db_gad[db_gad == ""Plusieurs jours""] <- ""2"""
"0","db_gad[db_gad == ""Jamais""] <- ""1"""
"0","db_gad = data.frame(apply(db_gad, 2, as.numeric))"
"0","db_gad$GAD_TOT = as.numeric(apply(db_gad, 1, sum))"
"0",""
"0","# MBI-SS"
"0","db_mbi= db %>% select(starts_with(""MBI_""))"
"0","db_mbi[db_mbi == ""Chaque jour""] <- ""7"""
"0","db_mbi[db_mbi == ""Quelques fois par semaine""] <- ""6"""
"0","db_mbi[db_mbi == ""Une fois par semaine""] <- ""5"""
"0","db_mbi[db_mbi == ""Quelques fois par mois""] <- ""4"""
"0","db_mbi[db_mbi == ""Une fois par mois""] <- ""3"""
"0","db_mbi[db_mbi == ""Quelques fois par an""] <- ""2"""
"0","db_mbi[db_mbi == ""Jamais""] <- ""1"""
"0",""
"0",""
"0","db_mbi_ss = data.frame(apply(db_mbi %>%"
"0","                               select(!starts_with(""MBI_HSS"")),"
"0","                             2, as.numeric))"
"0","db_mbi_ss$MBI_SS_TOT = as.numeric(apply(db_mbi_ss, 1, sum))"
"0",""
"0",""
"0","db_mbi_hss = data.frame(apply(db_mbi %>%"
"0","                               select(starts_with(""MBI_HSS"")),"
"0","                             2, as.numeric))"
"0","db_mbi_hss$MBI_HSS_TOT = as.numeric(apply(db_mbi_hss, 1, sum))"
"0",""
"0","db_mbi_hss$MBI_TOT = ifelse(is.na(db_mbi_ss$MBI_SS_TOT),"
"0","                            db_mbi_hss$MBI_HSS_TOT,"
"0","                            db_mbi_ss$MBI_SS_TOT)"
